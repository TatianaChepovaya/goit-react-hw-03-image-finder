{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/imageApi.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","assets/hqdefault.jpg","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchValue","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","warn","className","s","searchbar","form","this","type","button","label","onChange","input","autoComplete","autoFocus","placeholder","Component","api","fetchImagesWithQuery","searchQuery","page","axios","get","then","response","status","data","length","hits","Error","message","ImageGalleryItem","image","descr","onOpenModal","item","onClick","src","alt","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","event","target","window","addEventListener","removeEventListener","imageInfo","createPortal","overlay","modal","largeImageURL","tags","Status","ImageGallery","images","error","modalImageInfo","handleClickBtn","prevState","toggleModal","prevProps","prevValue","nextValue","API","catch","scrollTo","top","documentElement","scrollHeight","behavior","style","color","textAlign","height","width","timeout","img","title","gallery","map","webformatURL","id","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa916b87.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__5HTbb\",\"img\":\"ImageGallery_img__n7Gtc\",\"title\":\"ImageGallery_title__5HTmy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3gh3m\",\"image\":\"ImageGalleryItem_image__a2mQY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3vzaT\",\"modal\":\"Modal_modal__2r_qv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__30K7C\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      searchValue: e.currentTarget.value,\r\n    });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.searchValue.trim() === '') {\r\n      toast.warn('Enter correct value');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.searchValue);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ searchValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.form} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <span className={s.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.searchValue}\r\n            onChange={this.handleChange}\r\n            className={s.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api\";\r\nconst ACCESS_KEY = \"22352284-07c51f530b6e71a5deb2eb1e0\";\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${ACCESS_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => {\r\n      if (response.status === 200) {\r\n        if (response.data.length !== 0) {\r\n          return response.data.hits;\r\n        }\r\n      }\r\n      if (response.status === 404) {\r\n        throw new Error(response.message || \"Your query is not find\");\r\n      }\r\n    });\r\n};\r\n\r\nconst api = {\r\n  fetchImagesWithQuery\r\n};\r\n\r\nexport default api;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, descr, onOpenModal }) => {\r\n  return (\r\n    <li className={s.item} onClick={onOpenModal}>\r\n      <img src={image} alt={descr} className={s.image} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.string.isRequired,\r\n  descr: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { imageInfo } = this.props;\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.modal}>\r\n          <img src={imageInfo.largeImageURL} alt={imageInfo.tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  imageInfo: PropTypes.shape({\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }),\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/hqdefault.c1d9e774.jpg\";","import React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nimport API from \"../../services/imageApi\";\r\nimport ImageGalleryItem from \"../../components/ImageGalleryItem\";\r\nimport Button from \"../../components/Button\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Modal from \"../../components/Modal\";\r\nimport image from \"../../assets/hqdefault.jpg\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\"\r\n};\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: null,\r\n    page: 1,\r\n    error: null,\r\n    status: Status.IDLE,\r\n    modalImageInfo: null\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevValue = prevProps.searchValue;\r\n    const nextValue = this.props.searchValue;\r\n    if (prevValue !== nextValue) {\r\n      this.setState({ status: Status.PENDING });\r\n\r\n      API.fetchImagesWithQuery(nextValue, this.state.page)\r\n        .then((images) => {\r\n          return this.setState({ images, status: Status.RESOLVED });\r\n        })\r\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\r\n    }\r\n\r\n    if (prevState.page !== this.state.page) {\r\n      API.fetchImagesWithQuery(nextValue, this.state.page)\r\n        .then((images) => {\r\n          this.setState((prevState) => ({\r\n            images: [...prevState.images, ...images],\r\n            status: Status.RESOLVED\r\n          }));\r\n\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\"\r\n          });\r\n        })\r\n        .catch((error) =>\r\n          this.setState({\r\n            error,\r\n            status: Status.REJECTED\r\n          })\r\n        );\r\n    }\r\n  }\r\n  handleClickBtn = () => {\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1\r\n    }));\r\n  };\r\n  toggleModal = (modalImageInfo) => {\r\n    this.setState({ modalImageInfo });\r\n  };\r\n\r\n  render() {\r\n    const { images, status, modalImageInfo } = this.state;\r\n\r\n    if (status === \"idle\") {\r\n      return (\r\n        <h1 style={{ color: \"darkblue\", textAlign: \"center\" }}>\r\n          Find your image!\r\n        </h1>\r\n      );\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return (\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (status === \"rejected\") {\r\n      return (\r\n        <>\r\n          <img src={image} alt=\"try to find something else\" className={s.img} />\r\n          <h2 className={s.title}> Try to find something else</h2>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <>\r\n          <ul className={s.gallery}>\r\n            {images.map((image) => (\r\n              <ImageGalleryItem\r\n                onOpenModal={() => this.toggleModal(image)}\r\n                key={image.id}\r\n                image={image.webformatURL}\r\n                descr={image.tags}\r\n              />\r\n            ))}\r\n          </ul>\r\n          <Button onClick={this.handleClickBtn} />\r\n          {modalImageInfo && (\r\n            <Modal onClose={this.toggleModal} imageInfo={modalImageInfo} />\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  searchValue: PropTypes.string.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"./App.css\";\r\n\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchValue: \"\"\r\n  };\r\n\r\n  handleFormSubmit = (searchValue) => {\r\n    this.setState({ searchValue });\r\n  };\r\n\r\n  render() {\r\n    const { searchValue } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery searchValue={searchValue} />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__167f6\",\"form\":\"Searchbar_form__1NcKF\",\"button\":\"Searchbar_button__2C19F\",\"label\":\"Searchbar_label__1rNHw\",\"input\":\"Searchbar_input__2TpSM\"};"],"sourceRoot":""}